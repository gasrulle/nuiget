.app {
    display: flex;
    flex-direction: column;
    height: 100vh;
    overflow: hidden;
}

/* Header */
.header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 8px 16px;
    background: var(--vscode-editor-background);
    border-bottom: 1px solid var(--vscode-panel-border);
    flex-shrink: 0;
}

.header h2 {
    margin: 0;
    font-size: 14px;
    font-weight: 600;
    color: var(--vscode-foreground);
}

.header-selectors {
    display: flex;
    gap: 8px;
    align-items: center;
}

.no-projects {
    font-size: 12px;
    color: var(--vscode-descriptionForeground);
    font-style: italic;
}

/* Content */
.content {
    flex: 1;
    overflow: hidden;
    display: flex;
    flex-direction: column;
}

.browse-content {
    display: flex;
    flex-direction: column;
    height: 100%;
}

/* Package item styles */
.package-item {
    display: flex;
    align-items: flex-start;
    gap: 12px;
    padding: 12px 16px;
    border-bottom: 1px solid var(--vscode-panel-border);
    cursor: pointer;
    transition: background 0.15s;
    box-sizing: border-box;
}

.package-item:hover {
    background: var(--vscode-list-hoverBackground);
}

.package-item.selected {
    background: var(--vscode-list-activeSelectionBackground);
    border-left: 3px solid var(--vscode-focusBorder);
    padding-left: 13px;
}

.package-icon {
    flex-shrink: 0;
    width: 32px;
    height: 32px;
    margin-top: 2px;
}

.package-icon img {
    width: 32px;
    height: 32px;
    object-fit: contain;
    border-radius: 4px;
}

.package-info {
    flex: 1;
    min-width: 0;
    margin-bottom: 1px;
}

.package-name {
    font-weight: 600;
    font-size: 14px;
    color: var(--vscode-foreground);
}

.package-version {
    font-size: 12px;
    color: var(--vscode-descriptionForeground);
}

.package-meta {
    display: flex;
    gap: 12px;
    font-size: 11px;
    color: var(--vscode-descriptionForeground);
}

.package-downloads {
    opacity: 0.8;
}

.package-update-arrow {
    color: var(--vscode-charts-green, #4ec9b0);
    font-weight: bold;
}

.package-version-new {
    color: var(--vscode-charts-green, #4ec9b0);
    font-weight: 500;
}

/* Floating version badge */
.floating-badge {
    display: inline-block;
    margin-left: 6px;
    font-size: 11px;
    opacity: 0.8;
    cursor: help;
}

/* Implicit/transitive package badge */
.implicit-badge {
    display: inline-block;
    margin-left: 6px;
    font-size: 9px;
    font-weight: 600;
    padding: 1px 4px;
    border-radius: 3px;
    background: var(--vscode-badge-background);
    color: var(--vscode-badge-foreground);
    vertical-align: middle;
    cursor: help;
}

/* SDK badge for transitive packages in details panel */
.sdk-badge {
    display: inline-block;
    margin-left: 8px;
    font-size: 10px;
    font-weight: 600;
    padding: 2px 6px;
    border-radius: 3px;
    background: var(--vscode-badge-background);
    color: var(--vscode-badge-foreground);
    vertical-align: middle;
}

/* Resolved version display */
.resolved-version {
    font-size: 11px;
    color: var(--vscode-descriptionForeground);
    opacity: 0.9;
}

.resolved-version.resolved-unknown {
    font-style: italic;
    opacity: 0.7;
}

/* Floating/Range version info display in details panel */
.floating-version-info {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 4px 8px;
    background: var(--vscode-textBlockQuote-background);
    border-radius: 4px;
    font-size: 13px;
}

.floating-version-badge {
    font-size: 12px;
    padding: 2px 6px;
    background: var(--vscode-badge-background);
    color: var(--vscode-badge-foreground);
    border-radius: 3px;
    white-space: nowrap;
}

.floating-version-pattern {
    font-family: var(--vscode-editor-font-family, monospace);
    font-weight: 500;
}

.floating-version-resolved {
    color: var(--vscode-descriptionForeground);
}

.floating-version-notice {
    display: flex;
    align-items: center;
    gap: 6px;
    padding: 8px 12px;
    margin-top: 8px;
    background: var(--vscode-textBlockQuote-background);
    border-left: 3px solid var(--vscode-textLink-foreground);
    border-radius: 0 4px 4px 0;
    font-size: 12px;
    color: var(--vscode-descriptionForeground);
    /* Span all columns when inside grid layout */
    grid-column: 1 / -1;
}

.floating-version-notice .info-icon {
    font-size: 14px;
}

/* Updates Tab Toolbar */
.updates-toolbar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 8px 16px;
    border-bottom: 1px solid var(--vscode-panel-border);
    background: var(--vscode-sideBar-background);
}

.btn-link {
    background: none;
    border: none;
    color: var(--vscode-textLink-foreground);
    font-family: var(--vscode-font-family);
    font-size: 13px;
    cursor: pointer;
    padding: 4px 0;
    text-decoration: none;
}

.btn-link:hover {
    text-decoration: underline;
    color: var(--vscode-textLink-activeForeground);
}

.btn-link:disabled {
    color: var(--vscode-disabledForeground);
    cursor: not-allowed;
    text-decoration: none;
}

/* Custom VS Code-style Checkbox */
.update-checkbox {
    appearance: none;
    -webkit-appearance: none;
    width: 18px;
    height: 18px;
    border: 1px solid var(--vscode-checkbox-border, var(--vscode-input-border));
    border-radius: 3px;
    background: var(--vscode-checkbox-background, var(--vscode-input-background));
    cursor: pointer;
    flex-shrink: 0;
    margin-right: 8px;
    position: relative;
    transition: background 0.1s, border-color 0.1s;
    margin-top: 5px;
}

.update-checkbox:hover {
    border-color: var(--vscode-focusBorder);
}

.update-checkbox:focus {
    outline: 1px solid var(--vscode-focusBorder);
    outline-offset: 1px;
}

.update-checkbox:checked {
    background: var(--vscode-checkbox-selectBackground, var(--vscode-focusBorder));
    border-color: var(--vscode-checkbox-selectBorder, var(--vscode-focusBorder));
}

.update-checkbox:checked::after {
    content: '';
    position: absolute;
    left: 5px;
    top: 2px;
    width: 5px;
    height: 9px;
    border: solid var(--vscode-checkbox-foreground, #fff);
    border-width: 0 2px 2px 0;
    transform: rotate(45deg);
}

.update-checkbox:disabled {
    cursor: not-allowed;
    opacity: 0.4;
    background: var(--vscode-checkbox-background, var(--vscode-input-background));
}

.update-checkbox:disabled:checked {
    background: var(--vscode-disabledForeground);
    border-color: var(--vscode-disabledForeground);
}

/* Load All Projects Toolbar */
.load-all-toolbar {
    display: flex;
    align-items: center;
    padding: 8px 16px;
    border-bottom: 1px solid var(--vscode-panel-border);
    background: var(--vscode-sideBar-background);
}

.load-all-checkbox {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 13px;
    color: var(--vscode-foreground);
    cursor: pointer;
    user-select: none;
}

.load-all-checkbox input[type="checkbox"] {
    appearance: none;
    -webkit-appearance: none;
    width: 16px;
    height: 16px;
    border: 1px solid var(--vscode-checkbox-border, var(--vscode-input-border));
    border-radius: 3px;
    background: var(--vscode-checkbox-background, var(--vscode-input-background));
    cursor: pointer;
    position: relative;
    flex-shrink: 0;
}

.load-all-checkbox input[type="checkbox"]:checked {
    background: var(--vscode-checkbox-selectBackground, var(--vscode-focusBorder));
    border-color: var(--vscode-checkbox-selectBorder, var(--vscode-focusBorder));
}

.load-all-checkbox input[type="checkbox"]:checked::after {
    content: '';
    position: absolute;
    left: 4px;
    top: 1px;
    width: 5px;
    height: 8px;
    border: solid var(--vscode-checkbox-foreground, #fff);
    border-width: 0 2px 2px 0;
    transform: rotate(45deg);
}

.load-all-checkbox input[type="checkbox"]:disabled {
    cursor: not-allowed;
    opacity: 0.4;
}

/* Project Group Header for multi-project updates */
.project-group-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 8px 16px;
    background: var(--vscode-list-hoverBackground);
    border-bottom: 1px solid var(--vscode-panel-border);
    font-weight: 600;
    color: var(--vscode-foreground);
    box-sizing: border-box;
}

.project-group-header .project-name {
    font-size: 13px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.project-group-header .project-update-count {
    font-size: 11px;
    color: var(--vscode-descriptionForeground);
    flex-shrink: 0;
    margin-left: 12px;
}

/* Minimal package item (no icon, for multi-project mode) */
.package-item-minimal {
    padding-left: 32px;
    box-sizing: border-box;
}

.package-item-minimal .package-info {
    margin-left: 0;
}

.package-authors {
    font-size: 11px;
    color: var(--vscode-descriptionForeground);
    opacity: 0.7;
}

.verified-badge {
    color: var(--vscode-extensionIcon-verifiedForeground, var(--vscode-charts-blue, #3794ff));
    font-size: 10px;
    font-weight: bold;
    margin-right: 4px;
    cursor: help;
}

.package-actions {
    display: flex;
    gap: 8px;
    align-items: center;
}

.package-description {
    margin: 0 0 16px 0;
    color: var(--vscode-descriptionForeground);
    line-height: 1.5;
}

.package-details h3 {
    margin: 0 0 12px 0;
    font-size: 18px;
    font-weight: 600;
}

.details-row {
    display: flex;
    gap: 12px;
    margin-bottom: 12px;
    align-items: center;
}

.details-row label {
    min-width: 80px;
    font-weight: 500;
    color: var(--vscode-descriptionForeground);
}

/* Toolbar */
.toolbar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 8px 16px;
    background: var(--vscode-editor-background);
    border-bottom: 1px solid var(--vscode-panel-border);
    flex-shrink: 0;
}

.toolbar-left {
    display: flex;
    align-items: center;
    gap: 16px;
}

.toolbar-right {
    display: flex;
    align-items: center;
    gap: 8px;
}

.toolbar-label {
    font-size: 13px;
    color: var(--vscode-foreground);
}

.tabs {
    display: flex;
    gap: 0;
}

.tab {
    padding: 6px 16px;
    background: transparent;
    border: none;
    border-bottom: 2px solid transparent;
    color: var(--vscode-foreground);
    font-family: var(--vscode-font-family);
    font-size: 13px;
    cursor: pointer;
    transition: all 0.15s;
    opacity: 0.7;
}

.tab:hover {
    opacity: 1;
    background: var(--vscode-toolbar-hoverBackground);
}

.tab.active {
    border-bottom-color: var(--vscode-focusBorder);
    opacity: 1;
    font-weight: 500;
}

/* React 19: Pending state for tab transitions */
.tab.pending {
    opacity: 0.7;
    cursor: wait;
}

/* Focus styling for keyboard navigation - dotted border that fades away */
.tab:focus {
    outline: none;
}

.tab:focus-visible {
    outline: 1px dotted var(--vscode-focusBorder);
    outline-offset: -3px;
    animation: tab-focus-fade 0.5s ease-out forwards;
}

@keyframes tab-focus-fade {
    0% {
        outline-color: var(--vscode-focusBorder);
    }

    100% {
        outline-color: transparent;
    }
}

.tab-badge {
    background: var(--vscode-badge-background);
    color: var(--vscode-badge-foreground);
    font-size: 11px;
    font-weight: 500;
    padding: 1px 6px;
    border-radius: 10px;
    margin-left: 6px;
}

.project-selector {
    padding: 4px 8px;
    background: var(--vscode-dropdown-background);
    color: var(--vscode-dropdown-foreground);
    border: 1px solid var(--vscode-dropdown-border);
    border-radius: 2px;
    font-family: var(--vscode-font-family);
    font-size: 13px;
    cursor: pointer;
    min-width: 200px;
}

.project-selector:focus {
    outline: 1px solid var(--vscode-focusBorder);
}

/* Content Container */
.content-container {
    flex: 1;
    display: flex;
    flex-direction: column;
    overflow: hidden;
}

/* Search Panel */
.search-panel {
    padding: 12px 20px;
    background: var(--vscode-editor-background);
    border-bottom: 1px solid var(--vscode-panel-border);
    flex-shrink: 0;
}

.search-bar {
    display: flex;
    gap: 8px;
    margin-bottom: 12px;
    padding: 12px 16px;
    align-items: center;
}

.search-input-wrapper {
    position: relative;
    flex: 1;
}

.search-input {
    width: 100%;
    padding: 6px 12px;
    background: var(--vscode-input-background);
    color: var(--vscode-input-foreground);
    border: 1px solid var(--vscode-input-border);
    border-radius: 2px;
    font-family: var(--vscode-font-family);
    font-size: 13px;
    box-sizing: border-box;
}

.search-input:focus {
    outline: 1px solid var(--vscode-focusBorder);
}

/* Search History Dropdown */
.search-history-dropdown {
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    background: var(--vscode-dropdown-background);
    border: 1px solid var(--vscode-dropdown-border);
    border-radius: 4px;
    box-shadow: 0 4px 12px var(--vscode-widget-shadow);
    z-index: 100;
    margin-top: 4px;
    overflow-x: hidden;
    overflow-y: auto;
    max-height: min(50vh, 500px);
}

.search-history-header {
    padding: 8px 12px;
    font-size: 11px;
    font-weight: 600;
    color: var(--vscode-descriptionForeground);
    text-transform: uppercase;
    letter-spacing: 0.5px;
    border-bottom: 1px solid var(--vscode-panel-border);
}

.search-history-item {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 8px 12px;
    cursor: pointer;
    transition: background 0.1s;
}

.search-history-item:hover {
    background: var(--vscode-list-activeSelectionBackground);
    color: var(--vscode-list-activeSelectionForeground);
}

.search-history-item:hover .search-history-text {
    color: var(--vscode-list-activeSelectionForeground);
}

/* Suppress hover styles when keyboard navigation is active */
.search-history-dropdown.keyboard-nav .search-history-item:hover:not(.selected) {
    background: transparent;
    color: inherit;
}

.search-history-dropdown.keyboard-nav .search-history-item:hover:not(.selected) .search-history-text {
    color: var(--vscode-foreground);
}

.search-history-item.selected {
    background: var(--vscode-list-activeSelectionBackground);
    color: var(--vscode-list-activeSelectionForeground);
}

.search-history-item.selected .search-history-text {
    color: var(--vscode-list-activeSelectionForeground);
}

.search-history-icon {
    font-size: 12px;
    opacity: 0.7;
}

.search-history-text {
    font-size: 13px;
    color: var(--vscode-foreground);
}

/* Quick Search Suggestions */
.quick-search-item {
    background: transparent;
}

.quick-search-item:hover {
    background: var(--vscode-list-activeSelectionBackground);
    color: var(--vscode-list-activeSelectionForeground);
}

.quick-search-item:hover .search-history-text {
    color: var(--vscode-list-activeSelectionForeground);
}

.quick-search-item.selected {
    background: var(--vscode-list-activeSelectionBackground);
    color: var(--vscode-list-activeSelectionForeground);
}

.quick-search-item.selected .search-history-text {
    color: var(--vscode-list-activeSelectionForeground);
}

.quick-search-expand-hint {
    margin-left: auto;
    margin-top: -4px;
    margin-bottom: -4px;
    margin-right: -8px;
    opacity: 0;
    font-size: 14px;
    color: var(--vscode-descriptionForeground);
    transition: opacity 0.1s, background-color 0.1s;
    padding: 4px 8px;
    border-radius: 4px;
    cursor: pointer;
}

.quick-search-item:hover .quick-search-expand-hint,
.quick-search-item.selected .quick-search-expand-hint {
    opacity: 0.5;
}

.quick-search-item.selected .quick-search-expand-hint {
    color: var(--vscode-list-activeSelectionForeground);
}

.quick-search-expand-hint:hover {
    opacity: 1 !important;
    background-color: var(--vscode-toolbar-hoverBackground, rgba(90, 93, 94, 0.31));
}

.quick-search-loading {
    opacity: 0.7;
    cursor: default;
    pointer-events: none;
}

.quick-search-source-divider {
    padding: 4px 12px;
    font-size: 11px;
    font-weight: 600;
    color: var(--vscode-descriptionForeground);
    background: var(--vscode-editor-background);
    border-top: 1px solid var(--vscode-widget-border);
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.quick-search-source-divider:first-child {
    border-top: none;
}

/* Quick search version selection */
.quick-search-version-header {
    display: flex;
    align-items: center;
    gap: 4px;
    padding: 8px 12px;
    font-size: 12px;
    font-weight: 600;
    color: var(--vscode-foreground);
    background: var(--vscode-editor-background);
    border-bottom: 1px solid var(--vscode-widget-border);
}

.quick-search-back-hint {
    font-size: 14px;
    line-height: 1;
    opacity: 0.6;
    cursor: pointer;
    padding: 4px 8px;
    margin: -4px 0 -4px -8px;
    border-radius: 4px;
    display: flex;
    align-items: center;
    transition: opacity 0.1s, background-color 0.1s;
}

.quick-search-back-hint:hover {
    opacity: 1;
    background-color: var(--vscode-toolbar-hoverBackground, rgba(90, 93, 94, 0.31));
}

.quick-search-package-name {
    color: var(--vscode-textLink-foreground);
}

.quick-search-version-item {
    cursor: pointer;
}

.quick-search-version-item:hover {
    background: var(--vscode-list-hoverBackground);
}

.quick-search-version-item.selected {
    background: var(--vscode-list-activeSelectionBackground);
    color: var(--vscode-list-activeSelectionForeground);
}

.quick-search-version-item.selected .search-history-text {
    color: var(--vscode-list-activeSelectionForeground);
}

.quick-search-error {
    opacity: 0.7;
    font-style: italic;
}

.preview-checkbox {
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 13px;
    color: var(--vscode-foreground);
    cursor: pointer;
    white-space: nowrap;
}

.preview-checkbox input[type="checkbox"] {
    appearance: none;
    -webkit-appearance: none;
    width: 16px;
    height: 16px;
    border: 1px solid var(--vscode-checkbox-border, var(--vscode-input-border));
    border-radius: 3px;
    background: var(--vscode-checkbox-background, var(--vscode-input-background));
    cursor: pointer;
    position: relative;
    transition: background 0.1s, border-color 0.1s;
}

.preview-checkbox input[type="checkbox"]:hover {
    border-color: var(--vscode-focusBorder);
}

.preview-checkbox input[type="checkbox"]:focus {
    outline: 1px solid var(--vscode-focusBorder);
    outline-offset: 1px;
}

.preview-checkbox input[type="checkbox"]:checked {
    background: var(--vscode-checkbox-selectBackground, var(--vscode-focusBorder));
    border-color: var(--vscode-checkbox-selectBorder, var(--vscode-focusBorder));
}

.preview-checkbox input[type="checkbox"]:checked::after {
    content: '';
    position: absolute;
    left: 4px;
    top: 1px;
    width: 5px;
    height: 9px;
    border: solid var(--vscode-checkbox-foreground, #fff);
    border-width: 0 2px 2px 0;
    transform: rotate(45deg);
}

.source-selector-container {
    display: flex;
    align-items: center;
    gap: 8px;
}

.source-selector-container label {
    font-size: 13px;
    color: var(--vscode-foreground);
}

.source-selector {
    padding: 4px 8px;
    background: var(--vscode-dropdown-background);
    color: var(--vscode-dropdown-foreground);
    border: 1px solid var(--vscode-dropdown-border);
    border-radius: 2px;
    font-family: var(--vscode-font-family);
    font-size: 13px;
    cursor: pointer;
    min-width: 250px;
}

.source-selector:focus {
    outline: 1px solid var(--vscode-focusBorder);
}

.source-selector-wrapper {
    display: flex;
    align-items: center;
    gap: 6px;
}

.source-warning-indicator {
    cursor: pointer;
    font-size: 14px;
    opacity: 0.9;
    transition: opacity 0.15s;
}

.source-warning-indicator:hover {
    opacity: 1;
}

/* Split Panel Layout */
.split-panel {
    display: flex;
    flex: 1;
    overflow: hidden;
}

.package-list-panel {
    border-top: 1px solid var(--vscode-panel-border);
    overflow-y: auto;
    overflow-x: hidden;
    background: var(--vscode-sideBar-background);
}

/* Draggable Sash - VS Code style resizer */
.sash {
    width: 4px;
    cursor: col-resize;
    background: transparent;
    border-left: 1px solid var(--vscode-panel-border);
    flex-shrink: 0;
    transition: background-color 0.1s ease;
    z-index: 10;
}

.sash:hover {
    background-color: var(--vscode-sash-hoverBorder, var(--vscode-focusBorder));
}

.sash.dragging {
    background-color: var(--vscode-sash-hoverBorder, var(--vscode-focusBorder));
}

.package-details-panel {
    overflow-y: auto;
    padding: 16px 20px;
    background: var(--vscode-editor-background);
    border-top: 1px solid var(--vscode-panel-border);
}

/* Package List */
.package-list {
    display: flex;
    flex-direction: column;
}

.package-list:focus {
    outline: none;
}

/* React 19 concurrent rendering - stale data indicator during deferred updates */
.package-list.stale {
    opacity: 0.7;
    transition: opacity 0.2s ease-out;
}

/* Package Details */
.details-header {
    display: flex;
    gap: 16px;
    margin-bottom: 20px;
    padding-bottom: 16px;
    border-bottom: 1px solid var(--vscode-panel-border);
}

.details-title h2 {
    margin: 0 0 8px 0;
    font-size: 20px;
    font-weight: 600;
    color: var(--vscode-foreground);
}

.details-actions {
    display: flex;
    gap: 12px;
    margin-bottom: 24px;
    align-items: center;
}

.details-description {
    margin-bottom: 24px;
}

.details-description h3,
.details-info h3 {
    margin: 0 0 12px 0;
    font-size: 14px;
    font-weight: 600;
    color: var(--vscode-foreground);
}

.details-description p {
    margin: 0;
    line-height: 1.6;
    color: var(--vscode-foreground);
    font-size: 13px;
}

.details-info {
    margin-bottom: 24px;
}

/* Empty States */
.empty-state {
    text-align: center;
    padding: 40px 20px;
    color: var(--vscode-descriptionForeground);
    font-size: 13px;
}

/* Loading Spinner */
.loading-spinner-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 60px 20px;
    gap: 16px;
    color: var(--vscode-descriptionForeground);
    font-size: 13px;
}

.loading-spinner {
    width: 32px;
    height: 32px;
    border: 3px solid var(--vscode-editor-inactiveSelectionBackground);
    border-top-color: var(--vscode-focusBorder);
    border-radius: 50%;
    animation: spin 0.8s linear infinite;
}

@keyframes spin {
    to {
        transform: rotate(360deg);
    }
}

/* Buttons */
.btn {
    padding: 6px 14px;
    border: none;
    border-radius: 2px;
    font-family: var(--vscode-font-family);
    font-size: 13px;
    cursor: pointer;
    transition: background 0.15s;
    white-space: nowrap;
    font-weight: 500;
}

.btn:hover:not(:disabled) {
    filter: brightness(1.1);
}

.btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

.btn-primary {
    background: var(--vscode-button-background);
    color: var(--vscode-button-foreground);
}

.btn-primary:hover:not(:disabled) {
    background: var(--vscode-button-hoverBackground);
}

.btn-secondary {
    background: var(--vscode-button-secondaryBackground);
    color: var(--vscode-button-secondaryForeground);
}

.btn-secondary:hover:not(:disabled) {
    background: var(--vscode-button-secondaryHoverBackground);
}

.btn-danger {
    background: var(--vscode-inputValidation-errorBackground, #d73a49);
    color: var(--vscode-inputValidation-errorForeground, #ffffff);
    border: 1px solid var(--vscode-inputValidation-errorBorder, #be1100);
}

.btn-danger:hover:not(:disabled) {
    background: var(--vscode-inputValidation-errorBackground, #d73a49);
    filter: brightness(0.85);
}

.btn-large {
    padding: 8px 20px;
    font-size: 14px;
}

.version-selector {
    padding: 6px 12px;
    background-color: var(--vscode-dropdown-background);
    color: var(--vscode-dropdown-foreground);
    border: 1px solid var(--vscode-dropdown-border);
    border-radius: 2px;
    font-family: var(--vscode-font-family);
    font-size: 13px;
    cursor: pointer;
    flex: 1;
    max-width: 250px;
}

.version-selector:focus {
    outline: 1px solid var(--vscode-focusBorder);
}

/* Package Details Header */
.details-header {
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    gap: 20px;
    padding-bottom: 12px;
    border-bottom: 1px solid var(--vscode-panel-border);
    margin-bottom: 8px;
}

.details-header h3 {
    margin: 0;
    font-size: 18px;
    font-weight: 600;
    color: var(--vscode-foreground);
    flex-shrink: 0;
}

.details-actions {
    display: grid;
    grid-template-columns: 70px auto max-content;
    gap: 6px 8px;
    align-items: center;
    width: fit-content;
}

.details-version-row,
.installed-version-row {
    display: contents;
}

.details-version-row label,
.installed-version-row label {
    font-weight: 500;
    text-align: left;
}

.details-version-row .version-selector,
.installed-version-row .version-selector {
    padding: 4px 6px;
    width: auto;
    min-width: 80px;
    box-sizing: border-box;
}

/* Fixed width for Install/Update/Downgrade button to prevent resizing */
.details-version-row .btn-primary {
    min-width: 100px;
    text-align: center;
}

/* Details Tabs */
.details-tabs {
    display: flex;
    gap: 0;
    border-bottom: 1px solid var(--vscode-panel-border);
    margin-bottom: 12px;
}

.details-tab {
    padding: 8px 16px 12px 16px;
    background: transparent;
    border: none;
    border-bottom: 3px solid transparent;
    color: var(--vscode-foreground);
    cursor: pointer;
    font-size: 13px;
    opacity: 0.7;
    transition: all 0.15s;
}

.details-tab:first-child {
    padding-left: 0;
}

.details-tab:hover {
    opacity: 1;
}

.details-tab.active {
    opacity: 1;
    border-bottom-color: var(--vscode-focusBorder);
    font-weight: 600;
}

/* Details Content */
.details-content {
    flex: 1;
    overflow-y: auto;
    padding-right: 8px;
}

.details-info {
    display: grid;
    grid-template-columns: 1fr;
    gap: 0;
}

.details-info .details-row {
    display: grid;
    grid-template-columns: 120px 1fr;
    gap: 12px;
    align-items: start;
    padding: 6px 0;
    border-bottom: 1px solid var(--vscode-panel-border);
}

.details-info .details-row:last-child {
    border-bottom: none;
}

.details-info .details-row label {
    font-weight: 600;
    font-size: 12px;
    color: var(--vscode-descriptionForeground);
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.details-info .details-row span {
    font-size: 13px;
    color: var(--vscode-foreground);
    line-height: 1.5;
    word-break: break-word;
    white-space: pre-wrap;
}

.details-info .details-row a {
    font-size: 13px;
    word-break: break-all;
}

.details-link {
    color: var(--vscode-textLink-foreground) !important;
    text-decoration: none;
    cursor: pointer;
}

.details-link:hover {
    text-decoration: underline;
    color: var(--vscode-textLink-activeForeground) !important;
}

/* Dependencies Section */
.dependencies-section {
    margin-top: 16px;
    padding-top: 16px;
    border-top: 1px solid var(--vscode-panel-border);
}

.dependencies-section>label {
    display: block;
    font-weight: 600;
    font-size: 12px;
    color: var(--vscode-descriptionForeground);
    text-transform: uppercase;
    letter-spacing: 0.5px;
    margin-bottom: 12px;
}

.dependencies-tree {
    display: flex;
    flex-direction: column;
    gap: 6px;
}

.dependency-group {
    background: var(--vscode-editor-inactiveSelectionBackground);
    border-radius: 6px;
    overflow: hidden;
    border: 1px solid var(--vscode-panel-border);
}

.dependency-group-header {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 10px 14px;
    cursor: pointer;
    user-select: none;
    transition: background 0.15s;
}

.dependency-group-header:hover {
    background: var(--vscode-list-hoverBackground);
}

.expand-icon {
    font-size: 10px;
    width: 14px;
    color: var(--vscode-descriptionForeground);
    transition: transform 0.15s;
}

.framework-name {
    font-weight: 600;
    font-size: 13px;
    color: var(--vscode-foreground);
}

.dep-count {
    font-size: 12px;
    color: var(--vscode-descriptionForeground);
    margin-left: auto;
}

.dependency-list {
    padding: 8px 14px 12px 38px;
    display: flex;
    flex-direction: column;
    gap: 6px;
    background: var(--vscode-editor-background);
    border-top: 1px solid var(--vscode-panel-border);
}

.dependency-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 13px;
    padding: 6px 10px;
    background: var(--vscode-editor-inactiveSelectionBackground);
    border-radius: 4px;
}

.dep-name {
    color: var(--vscode-foreground);
    font-weight: 500;
}

.dep-version {
    color: var(--vscode-descriptionForeground);
    font-family: var(--vscode-editor-font-family, monospace);
    font-size: 12px;
    background: var(--vscode-badge-background);
    color: var(--vscode-badge-foreground);
    padding: 2px 8px;
    border-radius: 10px;
}

/* Readme Content */
.readme-content {
    padding: 12px 16px;
}

.readme-text {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-family: var(--vscode-editor-font-family, monospace);
    font-size: 13px;
    line-height: 1.5;
    color: var(--vscode-foreground);
    background: var(--vscode-editor-inactiveSelectionBackground);
    padding: 16px;
    border-radius: 4px;
    margin: 0;
    overflow-x: auto;
}

/* Rendered Markdown Styles */
.readme-rendered {
    font-size: 14px;
    line-height: 1.6;
    color: var(--vscode-foreground);
}

/* ============================================
   HEADER STYLES - Enhanced with accent colors
   ============================================ */
.readme-rendered h1 {
    font-size: 26px;
    font-weight: 600;
    margin: 28px 0 16px 0;
    padding-left: 12px;
    border-left: 4px solid var(--vscode-textLink-foreground);
    color: var(--vscode-foreground);
}

.readme-rendered h1:first-child {
    margin-top: 0;
}

.readme-rendered h2 {
    font-size: 22px;
    font-weight: 600;
    margin: 24px 0 14px 0;
    padding-left: 10px;
    border-left: 3px solid var(--vscode-charts-blue, #569cd6);
    color: var(--vscode-foreground);
}

.readme-rendered h3 {
    font-size: 18px;
    font-weight: 600;
    margin: 20px 0 10px 0;
    padding-left: 8px;
    border-left: 3px solid var(--vscode-charts-green, #4ec9b0);
    color: var(--vscode-foreground);
}

.readme-rendered h4 {
    font-size: 16px;
    font-weight: 600;
    margin: 16px 0 8px 0;
    color: var(--vscode-foreground);
}

.readme-rendered h5,
.readme-rendered h6 {
    font-size: 14px;
    font-weight: 600;
    margin: 12px 0 8px 0;
    color: var(--vscode-descriptionForeground);
}

.readme-rendered p {
    margin: 0 0 14px 0;
}

.readme-rendered a {
    color: var(--vscode-textLink-foreground);
    text-decoration: none;
}

.readme-rendered a:hover {
    text-decoration: underline;
    color: var(--vscode-textLink-activeForeground);
}

.readme-rendered ul,
.readme-rendered ol {
    margin: 0 0 14px 0;
    padding-left: 28px;
}

.readme-rendered li {
    margin: 6px 0;
}

/* ============================================
   INLINE CODE STYLES
   ============================================ */
.readme-rendered code {
    font-family: var(--vscode-editor-font-family, 'Consolas', 'Courier New', monospace);
    font-size: 13px;
    background: var(--vscode-textCodeBlock-background);
    padding: 2px 6px;
    border-radius: 4px;
    border: 1px solid var(--vscode-panel-border);
}

/* ============================================
   CODE BLOCK STYLES - With syntax highlighting
   ============================================ */
.readme-rendered pre {
    position: relative;
    background: var(--vscode-textCodeBlock-background);
    padding: 16px;
    border-radius: 8px;
    overflow-x: auto;
    margin: 0 0 16px 0;
    border: 1px solid var(--vscode-panel-border);
}

.readme-rendered pre code {
    background: none;
    padding: 0;
    border: none;
    font-size: 13px;
    line-height: 1.6;
    display: block;
}

/* ============================================
   HIGHLIGHT.JS THEME - VS Code Theme Adaptive
   ============================================ */
.readme-rendered .hljs {
    color: var(--vscode-editor-foreground, #d4d4d4);
    background: transparent;
}

/* Keywords: if, else, class, public, private, using, namespace, etc. */
.readme-rendered .hljs-keyword,
.readme-rendered .hljs-selector-tag,
.readme-rendered .hljs-literal,
.readme-rendered .hljs-section,
.readme-rendered .hljs-link {
    color: var(--vscode-symbolIcon-keywordForeground, #569cd6);
    font-weight: 500;
}

/* Built-in types: string, int, bool, void, var, etc. */
.readme-rendered .hljs-type,
.readme-rendered .hljs-built_in,
.readme-rendered .hljs-builtin-name {
    color: var(--vscode-symbolIcon-classForeground, #4ec9b0);
}

/* Class/type names (TimeSpan, HttpVersion, etc.) */
.readme-rendered .hljs-title.class_,
.readme-rendered .hljs-class .hljs-title,
.readme-rendered .hljs-title.class_.inherited__ {
    color: var(--vscode-symbolIcon-classForeground, #4ec9b0);
}

/* Interface names */
.readme-rendered .hljs-title.class_:is([class*="interface"]) {
    color: var(--vscode-symbolIcon-interfaceForeground, #b8d7a3);
}

/* Function/method names */
.readme-rendered .hljs-title.function_,
.readme-rendered .hljs-function .hljs-title,
.readme-rendered .hljs-title.function_.invoke__ {
    color: var(--vscode-symbolIcon-functionForeground, #dcdcaa);
}

/* Method invocations (chained calls like .WithTimeout, .AddHandler) */
.readme-rendered .hljs-title {
    color: var(--vscode-symbolIcon-methodForeground, #dcdcaa);
}

/* Strings */
.readme-rendered .hljs-string,
.readme-rendered .hljs-template-variable,
.readme-rendered .hljs-template-tag {
    color: var(--vscode-debugTokenExpression-string, #ce9178);
}

/* Numbers */
.readme-rendered .hljs-number {
    color: var(--vscode-debugTokenExpression-number, #b5cea8);
}

/* Comments */
.readme-rendered .hljs-comment,
.readme-rendered .hljs-quote {
    color: #6a9955;
    font-style: italic;
}

/* XML doc tags in comments */
.readme-rendered .hljs-doctag {
    color: #608b4e;
}

/* Variables and parameters */
.readme-rendered .hljs-variable,
.readme-rendered .hljs-params {
    color: var(--vscode-symbolIcon-variableForeground, #9cdcfe);
}

/* Properties */
.readme-rendered .hljs-property,
.readme-rendered .hljs-attr {
    color: var(--vscode-symbolIcon-propertyForeground, #9cdcfe);
}

/* Attributes like [Obsolete], [HttpGet] */
.readme-rendered .hljs-meta,
.readme-rendered .hljs-meta .hljs-keyword,
.readme-rendered .hljs-attribute {
    color: var(--vscode-symbolIcon-classForeground, #4ec9b0);
}

/* Preprocessor directives (#region, #if, etc.) */
.readme-rendered .hljs-meta .hljs-string {
    color: var(--vscode-debugTokenExpression-string, #ce9178);
}

/* Symbols and operators */
.readme-rendered .hljs-symbol,
.readme-rendered .hljs-bullet {
    color: var(--vscode-editor-foreground, #d4d4d4);
}

/* Punctuation - make it slightly dimmer */
.readme-rendered .hljs-punctuation {
    color: var(--vscode-editor-foreground, #d4d4d4);
}

/* Regex patterns */
.readme-rendered .hljs-regexp {
    color: var(--vscode-charts-red, #d16969);
}

/* Diff additions and deletions */
.readme-rendered .hljs-addition {
    color: var(--vscode-gitDecoration-addedResourceForeground, #b5cea8);
    background: var(--vscode-diffEditor-insertedTextBackground, rgba(155, 185, 85, 0.1));
}

.readme-rendered .hljs-deletion {
    color: var(--vscode-gitDecoration-deletedResourceForeground, #ce9178);
    background: var(--vscode-diffEditor-removedTextBackground, rgba(206, 145, 120, 0.1));
}

/* Subst (string interpolation like $"{variable}") */
.readme-rendered .hljs-subst {
    color: var(--vscode-symbolIcon-variableForeground, #9cdcfe);
}

/* Name - general identifier fallback */
.readme-rendered .hljs-name {
    color: var(--vscode-symbolIcon-keywordForeground, #569cd6);
}

/* Selector classes (CSS) */
.readme-rendered .hljs-selector-id,
.readme-rendered .hljs-selector-class,
.readme-rendered .hljs-selector-attr,
.readme-rendered .hljs-selector-pseudo {
    color: var(--vscode-charts-yellow, #d7ba7d);
}

/* Emphasis and strong */
.readme-rendered .hljs-emphasis {
    font-style: italic;
}

.readme-rendered .hljs-strong {
    font-weight: bold;
}

/* ============================================
   CODE BLOCK WRAPPER - Unified header button
   ============================================ */
.readme-rendered .code-block-wrapper {
    position: relative;
    margin: 0 0 16px 0;
}

/* Unified header button with copy icon and language label */
.readme-rendered .code-block-wrapper .code-header-btn {
    position: absolute;
    top: 0;
    right: 0;
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 4px 10px;
    font-size: 11px;
    font-family: var(--vscode-font-family);
    background: var(--vscode-badge-background);
    color: var(--vscode-badge-foreground);
    border: none;
    border-radius: 0 8px 0 6px;
    cursor: pointer;
    opacity: 0.85;
    transition: opacity 0.15s ease, background 0.15s ease;
    z-index: 2;
}

.readme-rendered .code-block-wrapper .code-header-btn:hover {
    opacity: 1;
}

/* Copy icon visible by default, check icon hidden */
.readme-rendered .code-block-wrapper .code-header-btn .copy-icon {
    display: block;
}

.readme-rendered .code-block-wrapper .code-header-btn .check-icon {
    display: none;
}

/* Copied state: show check icon, hide copy icon, green background */
.readme-rendered .code-block-wrapper .code-header-btn.copied {
    opacity: 1;
    background: var(--vscode-charts-green, #4ec9b0);
    color: var(--vscode-editor-background);
}

.readme-rendered .code-block-wrapper .code-header-btn.copied .copy-icon {
    display: none;
}

.readme-rendered .code-block-wrapper .code-header-btn.copied .check-icon {
    display: block;
}

/* Error state: red background */
.readme-rendered .code-block-wrapper .code-header-btn.error {
    opacity: 1;
    background: var(--vscode-errorForeground, #f14c4c);
    color: var(--vscode-editor-background);
}

/* Language label inside the button */
.readme-rendered .code-block-wrapper .code-header-btn .code-lang-label {
    font-size: 12px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    font-weight: 500;
}

.readme-rendered .code-block-wrapper pre {
    margin: 0;
    padding-top: 28px;
    /* Make room for header button */
}

/* ============================================
   BLOCKQUOTE STYLES - Enhanced
   ============================================ */
.readme-rendered blockquote {
    margin: 0 0 16px 0;
    padding: 12px 16px;
    border-left: 4px solid var(--vscode-textLink-foreground);
    background: var(--vscode-textBlockQuote-background);
    color: var(--vscode-descriptionForeground);
    border-radius: 0 6px 6px 0;
}

.readme-rendered blockquote p:last-child {
    margin-bottom: 0;
}

/* ============================================
   TABLE STYLES - Enhanced with zebra striping
   ============================================ */
.readme-rendered table {
    border-collapse: separate;
    border-spacing: 0;
    margin: 0 0 16px 0;
    width: 100%;
    border-radius: 8px;
    overflow: hidden;
    border: 1px solid var(--vscode-panel-border);
}

.readme-rendered th,
.readme-rendered td {
    padding: 10px 14px;
    text-align: left;
    border-bottom: 1px solid var(--vscode-panel-border);
}

.readme-rendered th {
    background: var(--vscode-keybindingTable-headerBackground, var(--vscode-editor-inactiveSelectionBackground));
    color: var(--vscode-foreground);
    font-weight: 600;
    text-transform: uppercase;
    font-size: 12px;
    letter-spacing: 0.5px;
}

/* Zebra striping */
.readme-rendered tbody tr:nth-child(odd) {
    background: var(--vscode-editor-background);
}

.readme-rendered tbody tr:nth-child(even) {
    background: var(--vscode-editor-inactiveSelectionBackground);
}

/* Hover effect */
.readme-rendered tbody tr:hover {
    background: var(--vscode-list-hoverBackground);
}

/* Remove bottom border from last row */
.readme-rendered tbody tr:last-child td {
    border-bottom: none;
}

/* Right-align numeric columns if they have numbers */
.readme-rendered td:last-child {
    text-align: left;
}

.readme-rendered img {
    max-width: 100%;
    height: auto;
    border-radius: 4px;
}

.readme-rendered hr {
    border: none;
    border-top: 2px solid var(--vscode-panel-border);
    margin: 24px 0;
}

/* Source Settings Button */
.source-settings-btn {
    background: transparent;
    border: none;
    cursor: pointer;
    padding: 4px 6px;
    font-size: 14px;
    opacity: 0.7;
    transition: opacity 0.15s;
}

.source-settings-btn:hover {
    opacity: 1;
}

/* Source Settings Overlay */
.source-settings-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.5);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1000;
}

.source-settings-modal {
    background: var(--vscode-editor-background);
    border: 1px solid var(--vscode-panel-border);
    border-radius: 8px;
    width: 90%;
    max-width: 500px;
    max-height: 70vh;
    display: flex;
    flex-direction: column;
    box-shadow: 0 8px 32px var(--vscode-widget-shadow);
}

.source-settings-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 12px 16px;
    border-bottom: 1px solid var(--vscode-panel-border);
}

.source-settings-header h3 {
    margin: 0;
    font-size: 14px;
    font-weight: 600;
    color: var(--vscode-foreground);
}

.source-settings-close {
    background: transparent;
    border: none;
    cursor: pointer;
    font-size: 16px;
    color: var(--vscode-foreground);
    opacity: 0.7;
    padding: 4px 8px;
}

.source-settings-close:hover {
    opacity: 1;
}

.source-settings-content {
    flex: 1;
    overflow-y: auto;
    padding: 8px 0;
}

.source-settings-item {
    display: flex;
    align-items: flex-start;
    gap: 12px;
    padding: 10px 16px;
    border-bottom: 1px solid var(--vscode-panel-border);
}

.source-settings-item:last-child {
    border-bottom: none;
}

.source-info {
    flex: 1;
    min-width: 0;
    display: flex;
    flex-direction: column;
    gap: 2px;
}

.source-name {
    font-weight: 500;
    font-size: 13px;
    color: var(--vscode-foreground);
}

.source-name.disabled {
    opacity: 0.5;
}

.toggling-indicator {
    font-size: 12px;
}

.source-url {
    font-size: 11px;
    color: var(--vscode-descriptionForeground);
    word-break: break-all;
}

.source-settings-footer {
    padding: 10px 16px;
    border-top: 1px solid var(--vscode-panel-border);
}

.source-settings-hint {
    font-size: 11px;
    color: var(--vscode-descriptionForeground);
}

/* Toggle Switch */
.source-toggle {
    position: relative;
    display: inline-block;
    width: 36px;
    height: 20px;
    flex-shrink: 0;
    margin-top: 2px;
}

.source-toggle input {
    opacity: 0;
    width: 0;
    height: 0;
}

.toggle-slider {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: var(--vscode-input-background);
    border: 1px solid var(--vscode-input-border, var(--vscode-panel-border));
    border-radius: 20px;
    transition: 0.2s;
}

.toggle-slider:before {
    position: absolute;
    content: "";
    height: 14px;
    width: 14px;
    left: 2px;
    bottom: 2px;
    background-color: var(--vscode-foreground);
    border-radius: 50%;
    transition: 0.2s;
    opacity: 0.5;
}

.source-toggle input:checked+.toggle-slider {
    background-color: var(--vscode-button-background);
    border-color: var(--vscode-button-background);
}

.source-toggle input:checked+.toggle-slider:before {
    transform: translateX(16px);
    opacity: 1;
}

.source-toggle input:disabled+.toggle-slider {
    opacity: 0.5;
    cursor: not-allowed;
}

/* Source Settings Sliding Panels */
/* Modal already defined above - just add overflow */

.source-settings-main,
.source-add-panel {
    display: flex;
    flex-direction: column;
    width: 100%;
    transition: transform 0.3s ease-in-out;
}

.source-settings-main {
    position: relative;
    min-height: 300px;
}

.source-settings-main.slide-out {
    display: none;
}

.source-add-panel {
    display: none;
    flex-direction: column;
    min-height: 300px;
}

.source-add-panel.slide-in {
    display: flex;
}

/* Config Selector */
.source-config-selector {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 8px 16px;
    border-bottom: 1px solid var(--vscode-panel-border);
    background: var(--vscode-editor-inactiveSelectionBackground);
}

.source-config-selector label {
    font-size: 12px;
    color: var(--vscode-descriptionForeground);
}

.source-config-selector select {
    flex: 1;
    padding: 4px 8px;
    font-size: 12px;
    background: var(--vscode-input-background);
    color: var(--vscode-input-foreground);
    border: 1px solid var(--vscode-input-border, var(--vscode-panel-border));
    border-radius: 4px;
}

/* Remove Button */
.source-remove-btn {
    background: transparent;
    border: none;
    cursor: pointer;
    padding: 4px 8px;
    font-size: 14px;
    opacity: 0.5;
    transition: opacity 0.15s;
    flex-shrink: 0;
}

.source-remove-btn:hover {
    opacity: 1;
}

.source-remove-btn:disabled {
    opacity: 0.3;
    cursor: not-allowed;
}

/* Add Source Button */
.add-source-btn {
    margin-right: auto;
}

.source-settings-footer {
    display: flex;
    align-items: center;
    gap: 12px;
}

/* Back Button */
.source-back-btn {
    background: transparent;
    border: none;
    cursor: pointer;
    padding: 4px 8px;
    font-size: 14px;
    color: var(--vscode-textLink-foreground);
}

.source-back-btn:hover {
    color: var(--vscode-textLink-activeForeground);
}

/* Add Source Form */
.source-add-content {
    flex: 1;
    padding: 16px;
    overflow-y: auto;
}

.form-group {
    margin-bottom: 16px;
}

.form-group label {
    display: block;
    margin-bottom: 4px;
    font-size: 12px;
    color: var(--vscode-foreground);
}

/* Override for checkbox labels inside form-group */
.form-group label.preview-checkbox {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 0;
    font-size: 13px;
}

.form-group input {
    width: 100%;
    padding: 8px 10px;
    font-size: 13px;
    background: var(--vscode-input-background);
    color: var(--vscode-input-foreground);
    border: 1px solid var(--vscode-input-border, var(--vscode-panel-border));
    border-radius: 4px;
    box-sizing: border-box;
}

/* Exclude checkbox inputs from text input styles */
.form-group input[type="checkbox"] {
    width: 16px;
    height: 16px;
    min-width: 16px;
    padding: 0;
    margin: 0;
    margin-right: 6px;
    flex-shrink: 0;
    border: 1px solid var(--vscode-checkbox-border, var(--vscode-input-border));
    border-radius: 3px;
    background: var(--vscode-checkbox-background, var(--vscode-input-background));
}

.form-group select {
    width: 100%;
    padding: 8px 10px;
    font-size: 13px;
    background: var(--vscode-input-background);
    color: var(--vscode-input-foreground);
    border: 1px solid var(--vscode-input-border, var(--vscode-panel-border));
    border-radius: 4px;
    box-sizing: border-box;
}

.form-group input:focus,
.form-group select:focus {
    outline: none;
    border-color: var(--vscode-focusBorder);
}

.form-group input.input-error {
    border-color: var(--vscode-inputValidation-errorBorder, #f44336);
}

.input-with-warning {
    position: relative;
    display: flex;
    align-items: center;
}

.input-with-warning input {
    padding-right: 32px;
}

.http-warning {
    position: absolute;
    right: 8px;
    font-size: 14px;
    cursor: help;
}

.error-message {
    display: block;
    margin-top: 4px;
    font-size: 11px;
    color: var(--vscode-inputValidation-errorForeground, #f44336);
}

/* Advanced Section */
.advanced-section {
    margin-top: 16px;
}

.advanced-toggle {
    background: transparent;
    border: none;
    cursor: pointer;
    padding: 4px 0;
    font-size: 12px;
    color: var(--vscode-descriptionForeground);
}

.advanced-toggle:hover {
    color: var(--vscode-foreground);
}

.advanced-content {
    margin-top: 12px;
    padding: 12px;
    background: var(--vscode-editor-inactiveSelectionBackground);
    border-radius: 4px;
}

.advanced-content .form-group {
    margin-bottom: 12px;
}

.advanced-content .form-group:last-child {
    margin-bottom: 0;
}

.advanced-content .warning-text {
    display: block;
    margin-top: 4px;
    font-size: 12px;
    color: var(--vscode-editorWarning-foreground, #cca700);
}

.advanced-content .security-info {
    margin-top: 12px;
    padding-top: 12px;
    border-top: 1px solid var(--vscode-panel-border);
}

.advanced-content .security-info a {
    font-size: 12px;
    color: var(--vscode-textLink-foreground);
    text-decoration: none;
}

.advanced-content .security-info a:hover {
    text-decoration: underline;
    color: var(--vscode-textLink-activeForeground);
}

/* Add Source Footer */
.source-add-footer {
    display: flex;
    justify-content: flex-end;
    gap: 8px;
    padding: 12px 16px;
    border-top: 1px solid var(--vscode-panel-border);
}

/* Confirm Dialog */
.confirm-dialog {
    background: var(--vscode-editor-background);
    border: 1px solid var(--vscode-panel-border);
    border-radius: 8px;
    width: 90%;
    max-width: 400px;
    box-shadow: 0 8px 32px var(--vscode-widget-shadow);
}

.confirm-dialog-header {
    padding: 12px 16px;
    border-bottom: 1px solid var(--vscode-panel-border);
}

.confirm-dialog-header h3 {
    margin: 0;
    font-size: 14px;
    font-weight: 600;
    color: var(--vscode-foreground);
}

.confirm-dialog-content {
    padding: 16px;
}

.confirm-dialog-content p {
    margin: 0 0 8px 0;
    font-size: 13px;
    color: var(--vscode-foreground);
}

.confirm-dialog-content p:last-child {
    margin-bottom: 0;
}

.confirm-warning {
    font-size: 12px !important;
    color: var(--vscode-descriptionForeground) !important;
    font-style: italic;
}

.confirm-dialog-footer {
    display: flex;
    justify-content: flex-end;
    gap: 8px;
    padding: 12px 16px;
    border-top: 1px solid var(--vscode-panel-border);
}

/* Direct packages section (collapsible) */
.direct-packages-section {
    display: flex;
    flex-direction: column;
}

.direct-packages-header {
    display: flex;
    align-items: center;
    gap: 8px;
    width: 100%;
    padding: 10px 16px;
    background: transparent;
    border: none;
    border-bottom: 1px solid var(--vscode-panel-border);
    cursor: pointer;
    color: var(--vscode-foreground);
    font-size: 13px;
    font-weight: 500;
    text-align: left;
}

.direct-packages-header:hover {
    background: var(--vscode-list-hoverBackground);
}

.direct-packages-arrow {
    font-size: 10px;
    width: 12px;
    flex-shrink: 0;
}

.direct-packages-title {
    flex: 1;
}

.direct-packages-count {
    color: var(--vscode-descriptionForeground);
    font-weight: normal;
    margin-left: 4px;
}

.direct-packages-content {
    display: flex;
    flex-direction: column;
}

/* Installed tab local filter bar */
.installed-filter-bar {
    display: flex;
    align-items: center;
    padding: 6px 12px;
    gap: 4px;
    border-bottom: 1px solid var(--vscode-panel-border);
    position: relative;
}

.installed-filter-input {
    width: 100%;
    padding: 4px 24px 4px 8px;
    background: var(--vscode-input-background);
    color: var(--vscode-input-foreground);
    border: 1px solid var(--vscode-input-border);
    border-radius: 2px;
    font-family: var(--vscode-font-family);
    font-size: 12px;
    box-sizing: border-box;
}

.installed-filter-input:focus {
    outline: 1px solid var(--vscode-focusBorder);
}

.installed-filter-input::placeholder {
    color: var(--vscode-input-placeholderForeground);
}

.installed-filter-clear {
    position: absolute;
    right: 16px;
    top: 50%;
    transform: translateY(-50%);
    background: none;
    border: none;
    color: var(--vscode-input-foreground);
    cursor: pointer;
    font-size: 16px;
    line-height: 1;
    padding: 2px 4px;
    border-radius: 2px;
    opacity: 0.7;
}

.installed-filter-clear:hover {
    opacity: 1;
    background: var(--vscode-toolbar-hoverBackground);
}

.installed-filter-empty {
    padding: 16px;
    text-align: center;
    color: var(--vscode-descriptionForeground);
    font-size: 12px;
    font-style: italic;
}

/* Transitive packages sections container */
.transitive-sections {
    border-top: 1px solid var(--vscode-panel-border);
    margin-top: 4px;
}

/* Individual framework section */
.transitive-section {
    /* First section doesn't need top border since parent has it */
}

.transitive-section+.transitive-section {
    border-top: 1px solid var(--vscode-panel-border);
}

.transitive-header {
    display: flex;
    align-items: center;
    gap: 8px;
    width: 100%;
    padding: 10px 16px;
    background: transparent;
    border: none;
    cursor: pointer;
    color: var(--vscode-foreground);
    font-size: 13px;
    font-weight: 500;
    text-align: left;
}

.transitive-header:hover {
    background: var(--vscode-list-hoverBackground);
}

.transitive-header-disabled {
    cursor: default;
    opacity: 0.7;
}

.transitive-header-disabled:hover {
    background: transparent;
}

.refresh-btn {
    margin-left: 8px;
    font-size: 13px;
    padding: 0 4px;
    border-radius: 3px;
    color: var(--vscode-descriptionForeground);
    opacity: 0.5;
    transition: opacity 0.15s ease, background 0.15s ease, color 0.15s ease;
    flex-shrink: 0;
    cursor: pointer;
}

.refresh-btn:hover {
    opacity: 1;
    background: var(--vscode-toolbar-hoverBackground);
    color: var(--vscode-foreground);
}

.refresh-btn[aria-disabled="true"] {
    cursor: not-allowed;
    opacity: 0.3;
}

.transitive-arrow {
    font-size: 10px;
    width: 12px;
    flex-shrink: 0;
}

.transitive-title {
    flex: 1;
}

.transitive-count {
    color: var(--vscode-descriptionForeground);
    font-weight: normal;
    margin-left: 4px;
}

.transitive-framework {
    font-size: 11px;
    color: var(--vscode-descriptionForeground);
    background: var(--vscode-badge-background);
    color: var(--vscode-badge-foreground);
    padding: 1px 5px;
    border-radius: 3px;
}

.transitive-content {
    padding: 0;
}

.transitive-loading {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 16px;
    color: var(--vscode-descriptionForeground);
    font-size: 12px;
}

.transitive-loading .loading-spinner {
    width: 16px;
    height: 16px;
}

.transitive-no-lockfile {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 12px;
    padding: 24px 16px;
    text-align: center;
}

.no-lockfile-icon {
    font-size: 32px;
    opacity: 0.7;
}

.no-lockfile-message {
    color: var(--vscode-descriptionForeground);
}

.no-lockfile-message strong {
    display: block;
    color: var(--vscode-foreground);
    margin-bottom: 4px;
}

.no-lockfile-message p {
    margin: 0;
    font-size: 12px;
}

.transitive-empty {
    padding: 16px;
    text-align: center;
    color: var(--vscode-descriptionForeground);
    font-size: 12px;
}

.transitive-list {
    padding: 0;
}

.transitive-list:focus {
    outline: none;
}

/* Slim row design for transitive packages */
.transitive-package-item {
    display: flex;
    gap: 10px;
    padding: 6px 16px;
    border-bottom: 1px solid var(--vscode-panel-border);
    cursor: pointer;
    transition: background 0.15s;
}

.transitive-package-item:hover {
    background: var(--vscode-list-hoverBackground);
}

.transitive-package-item.selected {
    background: var(--vscode-list-activeSelectionBackground);
    border-left: 3px solid var(--vscode-focusBorder);
    padding-left: 13px;
}

.transitive-package-item .package-info {
    flex: 1;
    min-width: 0;
}

.transitive-package-item .package-name {
    font-size: 13px;
    font-weight: 500;
}

.transitive-package-item .package-meta {
    font-size: 10px;
}

.transitive-package-item .package-authors {
    font-size: 10px;
}

.package-icon-small {
    width: 24px;
    height: 24px;
    flex-shrink: 0;
}

.package-icon-small img {
    width: 24px;
    height: 24px;
    object-fit: contain;
}

.package-icon-small span {
    font-size: 18px;
}

/* Required by section in transitive package details */
.required-by-section {
    flex-direction: column;
    align-items: flex-start !important;
    gap: 4px;
}

.required-by-list {
    display: flex;
    flex-direction: column;
    gap: 6px;
    width: 100%;
}

.required-by-item {
    font-size: 13px;
    color: var(--vscode-foreground);
    padding: 4px 8px;
    background: var(--vscode-editor-inactiveSelectionBackground);
    border-radius: 4px;
    word-break: break-word;
}

/* Transitive package details panel - detail rows */
.package-details .detail-row {
    display: grid;
    grid-template-columns: 100px 1fr;
    gap: 12px;
    align-items: start;
    padding: 8px 0;
    border-bottom: 1px solid var(--vscode-panel-border);
}

.package-details .detail-row:last-child {
    border-bottom: none;
}

.package-details .detail-label {
    font-weight: 600;
    font-size: 12px;
    color: var(--vscode-descriptionForeground);
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.package-details .detail-value {
    font-size: 13px;
    color: var(--vscode-foreground);
    line-height: 1.5;
    word-break: break-word;
}

/* Required by section needs column layout */
.package-details .detail-row.required-by-section {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

/* ============================================
   LIGHT THEME OVERRIDES
   VS Code adds 'vscode-light' class to body for light themes
   ============================================ */

/* Comments need darker color for light backgrounds */
body.vscode-light .readme-rendered .hljs-comment,
body.vscode-light .readme-rendered .hljs-quote {
    color: #008000;
}

/* XML doc tags in comments */
body.vscode-light .readme-rendered .hljs-doctag {
    color: #008000;
}

/* Keywords - use darker blue for light themes */
body.vscode-light .readme-rendered .hljs-keyword,
body.vscode-light .readme-rendered .hljs-selector-tag,
body.vscode-light .readme-rendered .hljs-literal,
body.vscode-light .readme-rendered .hljs-section,
body.vscode-light .readme-rendered .hljs-link {
    color: var(--vscode-symbolIcon-keywordForeground, #0000ff);
}

/* Types - darker teal for light themes */
body.vscode-light .readme-rendered .hljs-type,
body.vscode-light .readme-rendered .hljs-built_in,
body.vscode-light .readme-rendered .hljs-builtin-name {
    color: var(--vscode-symbolIcon-classForeground, #267f99);
}

/* Class names */
body.vscode-light .readme-rendered .hljs-title.class_,
body.vscode-light .readme-rendered .hljs-class .hljs-title,
body.vscode-light .readme-rendered .hljs-title.class_.inherited__ {
    color: var(--vscode-symbolIcon-classForeground, #267f99);
}

/* Interfaces */
body.vscode-light .readme-rendered .hljs-title.class_:is([class*="interface"]) {
    color: var(--vscode-symbolIcon-interfaceForeground, #267f99);
}

/* Functions */
body.vscode-light .readme-rendered .hljs-title.function_,
body.vscode-light .readme-rendered .hljs-function .hljs-title,
body.vscode-light .readme-rendered .hljs-title.function_.invoke__,
body.vscode-light .readme-rendered .hljs-title {
    color: var(--vscode-symbolIcon-functionForeground, #795e26);
}

/* Strings - darker orange/brown for light themes */
body.vscode-light .readme-rendered .hljs-string,
body.vscode-light .readme-rendered .hljs-template-variable,
body.vscode-light .readme-rendered .hljs-template-tag {
    color: var(--vscode-debugTokenExpression-string, #a31515);
}

/* Numbers */
body.vscode-light .readme-rendered .hljs-number {
    color: var(--vscode-debugTokenExpression-number, #098658);
}

/* Variables */
body.vscode-light .readme-rendered .hljs-variable,
body.vscode-light .readme-rendered .hljs-params,
body.vscode-light .readme-rendered .hljs-subst {
    color: var(--vscode-symbolIcon-variableForeground, #001080);
}

/* Properties */
body.vscode-light .readme-rendered .hljs-property,
body.vscode-light .readme-rendered .hljs-attr {
    color: var(--vscode-symbolIcon-propertyForeground, #001080);
}

/* Attributes/Meta */
body.vscode-light .readme-rendered .hljs-meta,
body.vscode-light .readme-rendered .hljs-meta .hljs-keyword,
body.vscode-light .readme-rendered .hljs-attribute {
    color: var(--vscode-symbolIcon-classForeground, #267f99);
}

/* Regex */
body.vscode-light .readme-rendered .hljs-regexp {
    color: var(--vscode-charts-red, #800000);
}

/* CSS selectors */
body.vscode-light .readme-rendered .hljs-selector-id,
body.vscode-light .readme-rendered .hljs-selector-class,
body.vscode-light .readme-rendered .hljs-selector-attr,
body.vscode-light .readme-rendered .hljs-selector-pseudo {
    color: var(--vscode-charts-yellow, #800000);
}

/* Name fallback */
body.vscode-light .readme-rendered .hljs-name {
    color: var(--vscode-symbolIcon-keywordForeground, #800000);
}
